#----------------------------------------
# EXERCISE 3.2: SETUP KITCHEN
# INSTRUCTIONS: Setup kitchen for testing
# Time: 2-3min
#----------------------------------------

# TODO 1: INSTALL KITCHEN AND VAGRANT FOR TESTING
#---------------------------------------

## action 1: install kitchen
#########################################

sudo gem install kitchen

## action 2: install kitchen-vagrant
#########################################

sudo gem install kitchen-vagrant

# TODO 2: INITIALIZE KITCHEN DIRECTORY
#---------------------------------------

## action 1: Create and initialize kitchen directory
#########################################

mkdir ~/test-kitchen && cd ~/test-kitchen && kitchen init

# TODO 3: CONFIGURE KITCHEN YML FOR TESTING
#---------------------------------------

## action 1: Add content to kitchen.yml
#########################################

cat << EOF > kitchen.yml
---
driver:
  name: vagrant

provisioner:
  name: chef_solo

platforms:
  - name: ubuntu-16.04

suites:
  - name: default
    run_list:
    attributes:
EOF

# TODO 4: VERIFY AND RUN KITCHEN JOB
#---------------------------------------

## action 1: Verify kitchen job
#########################################

kitchen list

## action 2: Create kitchen job
#########################################

kitchen create
